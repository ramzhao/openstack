(function(e){function t(t){for(var a,l,n=t[0],s=t[1],c=t[2],u=0,d=[];u<n.length;u++)l=n[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&d.push(o[l][0]),o[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],a=!0,n=1;n<i.length;n++){var s=i[n];0!==o[s]&&(a=!1)}a&&(r.splice(t--,1),e=l(l.s=i[0]))}return e}var a={},o={app:0},r=[];function l(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=a,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(i,a,function(t){return e[t]}.bind(null,a));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var m=s;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var a=i("c37e"),o=i.n(a);o.a},"482f":function(e,t,i){"use strict";var a=i("f1df"),o=i.n(a);o.a},"56d7":function(e,t,i){"use strict";i.r(t);i("23dc"),i("70e7"),i("e7c0"),i("351c");var a=i("6e6d"),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],l={name:"app",components:{},data:function(){return{breadList:[1]}},watch:{$route:function(e,t){console.log(t.path),console.log(e.path),this.breadList=[1,2]}}},n=l,s=(i("034f"),i("6691")),c=Object(s["a"])(n,o,r,!1,null,null,null),m=c.exports,u=i("591a");a["default"].use(u["a"]);var d=new u["a"].Store({state:{breadList:[1,2,3]},mutations:{},actions:{},modules:{}}),f=i("c478"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("HorizonAside")],1),i("el-container",[i("el-header",{staticClass:"breadcrumb-header",attrs:{height:"50px"}},[i("el-breadcrumb",{staticStyle:{"line-height":"50px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e._l(e.$store.state.breadList,(function(t){return i("el-breadcrumb-item",{key:t},[e._v(" "+e._s(t)+" ")])})),i("div",{staticClass:"avator"},[i("el-dropdown",[i("span",{staticClass:"el-dropdown-link"},[i("el-avatar",{staticClass:"avator_img",attrs:{shape:"square",size:42,src:e.squareUrl}})],1),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"background-color":"#f7f7f7"}},[e._v("admin")]),i("el-dropdown-item",[e._v("注销")])],1)],1)],1),i("el-dropdown",{staticClass:"domain"},[i("span",{staticClass:"el-dropdown-link"},[i("i",{staticClass:"el-icon-s-unfold",staticStyle:{"font-size":"30px"}})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"background-color":"#f7f7f7"}},[e._v("domain")])],1)],1)],2)],1),i("el-main",[i("router-view")],1)],1)],1)],1)},_=[],g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"unique-opened":"true","default-active":"2","background-color":"#324157","text-color":"#fff","active-text-color":"#20a0ff",router:"true"},on:{open:e.handleOpen,close:e.handleClose}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-s-grid"}),i("span",[e._v("项目")])]),i("el-submenu",{attrs:{index:"1-1"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont el-icon-zhao-cpuchuliqiyingjian"}),e._v("计算")]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"1-1-1"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("概述")]),i("el-menu-item",{attrs:{index:"/Horizon/servers"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("实例")]),i("el-menu-item",{attrs:{index:"1-1-3"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("卷")]),i("el-menu-item",{attrs:{index:"/Horizon/image"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("映像")]),i("el-menu-item",{attrs:{index:"1-1-5"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("访问 & 安全")])],1)],2),i("el-submenu",{attrs:{index:"1-2"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont el-icon-zhao-wangluo1"}),e._v("网络")]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"1-2-1"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("网络拓扑")]),i("el-menu-item",{attrs:{index:"1-2-2"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("网络")])],1)],2)],2),i("el-submenu",{attrs:{index:"2"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-s-custom"}),i("span",[e._v("管理员")])]),i("el-submenu",{attrs:{index:"2-1"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont el-icon-zhao-xitong"}),e._v("系统")]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"2-1-1"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("概述")]),i("el-menu-item",{attrs:{index:"2-1-2"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("管理程序")]),i("el-menu-item",{attrs:{index:"2-1-3"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("主机聚集")]),i("el-menu-item",{attrs:{index:"2-1-4"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("实例")]),i("el-menu-item",{attrs:{index:"2-1-5"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("卷")]),i("el-menu-item",{attrs:{index:"2-1-6"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("flavor数")]),i("el-menu-item",{attrs:{index:"/Horizon/image"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("映像")]),i("el-menu-item",{attrs:{index:"/Horizon/network"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("网络")]),i("el-menu-item",{attrs:{index:"2-1-9"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("缺省值")]),i("el-menu-item",{attrs:{index:"2-1-10"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("元数据定义")]),i("el-menu-item",{attrs:{index:"2-1-11"}},[i("i",{staticClass:"el-icon-caret-right"}),e._v("系统信息")])],1)],2)],2),i("el-submenu",{attrs:{index:"3"}},[i("template",{slot:"title"},[i("i",{staticClass:"iconfont el-icon-zhao-shenfen-tianchong"}),i("span",[e._v("身份管理")])]),i("el-menu-item-group",[i("el-menu-item",{attrs:{index:"3-1"}},[i("i",{staticClass:"iconfont el-icon-zhao-xiangmu"}),e._v("项目")]),i("el-menu-item",{attrs:{index:"3-2"}},[i("i",{staticClass:"iconfont el-icon-zhao-jiaoseguanli"}),e._v("用户")]),i("el-menu-item",{attrs:{index:"3-3"}},[i("i",{staticClass:"iconfont el-icon-zhao-zudui"}),e._v("组")]),i("el-menu-item",{attrs:{index:"3-4"}},[i("i",{staticClass:"iconfont el-icon-zhao-jiaoseguanli"}),e._v("角色")])],1)],2)],1)},b=[],h={name:"HorizonAside"},v=h,w=(i("482f"),Object(s["a"])(v,g,b,!1,null,"c3c06bf0",null)),k=w.exports,x={name:"Horizon",components:{HorizonAside:k},data:function(){return{squareUrl:"http://elm.cangdu.org/img/default.jpg"}},methods:{handleSelect:function(e,t){console.log(e,t)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},created:function(){console.log(this.breadList)}}},y=x,$=(i("d7b1"),Object(s["a"])(y,p,_,!1,null,"2cdddfed",null)),L=$.exports,S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"background"},[i("div",{attrs:{id:"login_box"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"domain",prop:"domain"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.domain,callback:function(t){e.$set(e.ruleForm,"domain",t)},expression:"ruleForm.domain"}})],1),i("el-form-item",{attrs:{label:"用户名",prop:"user"}},[i("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}})],1),i("el-form-item",{attrs:{label:"密 码",prop:"pass"}},[i("el-input",{model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",e._n(t))},expression:"ruleForm.pass"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")]),i("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)])},C=[],D=(i("7fae"),i("384e"),i("6076"),i("c0f0"),{name:"Login",data:function(){var e=function(e,t,i){if(!t)return i(new Error("用户名不能为空"));i()},t=function(e,t,i){""===t?i(new Error("请输入密码")):i()},i=function(e,t,i){""===t?i(new Error("请输入域")):i()};return{ruleForm:{pass:"",user:"",domain:""},rules:{pass:[{validator:t,trigger:"blur"}],user:[{validator:e,trigger:"blur"}],domain:[{validator:i,trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;var i=new URLSearchParams;i.append("user",t.ruleForm.user),i.append("pass",t.ruleForm.pass),i.append("domain",t.ruleForm.domain),t.axios.post("/api/login",i).then((function(e){t.content=e.data,console.log(t.content),"success"===t.content?t.$router.push("/Horizon"):401===t.content&&alert("用户名或密码错误")})).catch((function(e){console.log(e)}))}))},resetForm:function(e){this.$refs[e].resetFields()}}}),O=D,z=(i("9790"),Object(s["a"])(O,S,C,!1,null,"7c236635",null)),W=z.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:5}},[i("el-button-group",[i("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("项目(2)")]),i("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("与我共享")]),i("el-button",{attrs:{type:"primary",size:"medium"}},[e._v("公有(2)")])],1)],1),i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.createImagesDialogVisible=!0}}},[e._v("创建映像")]),i("el-button",{attrs:{type:"danger",size:"medium"}},[e._v("删除映像")])],1)],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:"true",border:"true",height:"800"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),i("el-table-column",{attrs:{prop:"name",label:"映像名称",width:"200"}}),i("el-table-column",{attrs:{prop:"disk_format",label:"类型",width:"200"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"200"}}),i("el-table-column",{attrs:{prop:"visibility",label:"公有",width:"200"}}),i("el-table-column",{attrs:{prop:"protected",label:"受保护的",width:"200"}}),i("el-table-column",{attrs:{prop:"disk_format",label:"格式",width:"200"}}),i("el-table-column",{attrs:{prop:"size",label:"大小",width:"200"}}),i("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small"},on:{click:e.handleClick}},[e._v(" 启动 "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[e._v("创建卷")]),i("el-dropdown-item",{nativeOn:{click:function(i){return e.edit_image_dialog_open(t.row)}}},[e._v("编辑映像")]),i("el-dropdown-item",[e._v("更新元数据")]),i("el-dropdown-item",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{divided:""},nativeOn:{click:function(i){return e.images_delete_one(t.row.id)}}},[e._v("删除映像 ")])],1)],1)]}}])})],1),i("el-dialog",{attrs:{title:"编辑映像",visible:e.editImagesDialogVisible,width:"500px"},on:{"update:visible":function(t){e.editImagesDialogVisible=t}}},[i("el-form",{attrs:{model:e.form,"label-width":"100px","label-position":"right"}},[i("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.name,callback:function(t){e.$set(e.edit_image_form,"name",t)},expression:"edit_image_form.name"}})],1),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.edit_image_form.description,callback:function(t){e.$set(e.edit_image_form,"description",t)},expression:"edit_image_form.description"}})],1),i("el-form-item",{attrs:{label:"内核标识","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.kernel_id,callback:function(t){e.$set(e.edit_image_form,"kernel_id",t)},expression:"edit_image_form.kernel_id"}})],1),i("el-form-item",{attrs:{label:"内存盘标识","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.ramdisk_id,callback:function(t){e.$set(e.edit_image_form,"ramdisk_id",t)},expression:"edit_image_form.ramdisk_id"}})],1),i("el-form-item",{attrs:{label:"架构","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.architecture,callback:function(t){e.$set(e.edit_image_form,"architecture",t)},expression:"edit_image_form.architecture"}})],1),i("el-form-item",{attrs:{label:"格式","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择映像格式"},model:{value:e.edit_image_form.format,callback:function(t){e.$set(e.edit_image_form,"format",t)},expression:"edit_image_form.format"}},[i("el-option",{attrs:{label:"ISO-光盘映像",value:"iso"}}),i("el-option",{attrs:{label:"QCOW2-QEMU模拟器",value:"qcow2"}})],1)],1),i("el-form-item",{attrs:{label:"最小磁盘(GB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.minimum_disk,callback:function(t){e.$set(e.edit_image_form,"minimum_disk",t)},expression:"edit_image_form.minimum_disk"}})],1),i("el-form-item",{attrs:{label:"最低内存(MB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.minimum_ram,callback:function(t){e.$set(e.edit_image_form,"minimum_ram",t)},expression:"edit_image_form.minimum_ram"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"公有"}},[i("el-checkbox",{attrs:{name:"type"},model:{value:e.edit_image_form.public,callback:function(t){e.$set(e.edit_image_form,"public",t)},expression:"edit_image_form.public"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"受保护的"}},[i("el-checkbox",{attrs:{name:"type"},model:{value:e.edit_image_form.protected,callback:function(t){e.$set(e.edit_image_form,"protected",t)},expression:"edit_image_form.protected"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editImagesDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.edit_image_onsubmit}},[e._v("保 存")])],1)],1),i("el-dialog",{attrs:{title:"编辑映像",visible:e.createImagesDialogVisible,width:"500px"},on:{"update:visible":function(t){e.createImagesDialogVisible=t}}},[i("el-form",{ref:"create_image_form",attrs:{model:e.create_image_form,"label-width":"100px","label-position":"right"}},[i("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"name"},model:{value:e.create_image_form.name,callback:function(t){e.$set(e.create_image_form,"name",t)},expression:"create_image_form.name"}})],1),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea",name:"description"},model:{value:e.create_image_form.description,callback:function(t){e.$set(e.create_image_form,"description",t)},expression:"create_image_form.description"}})],1),i("el-form-item",{attrs:{label:"映像源","label-width":e.formLabelWidth}},[i("el-select",{model:{value:e.create_image_form.image_source,callback:function(t){e.$set(e.create_image_form,"image_source",t)},expression:"create_image_form.image_source"}},[i("el-option",{attrs:{label:"映像位置",value:"shanghai"}}),i("el-option",{attrs:{label:"映像文件",value:"beijing"}})],1)],1),i("el-form-item",{attrs:{label:"映像位置","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"image_location"},model:{value:e.create_image_form.image_location,callback:function(t){e.$set(e.create_image_form,"image_location",t)},expression:"create_image_form.image_location"}})],1),i("el-form-item",{attrs:{label:"选择映像","label-width":e.formLabelWidth}},[i("el-upload",{attrs:{action:"","http-request":e.handleFile,multiple:!1,limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择")])],1)],1),i("el-form-item",{attrs:{label:"格式","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择映像格式",name:"format"},model:{value:e.create_image_form.format,callback:function(t){e.$set(e.create_image_form,"format",t)},expression:"create_image_form.format"}},[i("el-option",{attrs:{label:"ISO-光盘映像",value:"iso"}}),i("el-option",{attrs:{label:"QCOW2-QEMU模拟器",value:"qcow2"}})],1)],1),i("el-form-item",{attrs:{label:"架构","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"architecture"},model:{value:e.create_image_form.architecture,callback:function(t){e.$set(e.create_image_form,"architecture",t)},expression:"create_image_form.architecture"}})],1),i("el-form-item",{attrs:{label:"最小磁盘(GB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"minimum_disk"},model:{value:e.create_image_form.minimum_disk,callback:function(t){e.$set(e.create_image_form,"minimum_disk",t)},expression:"create_image_form.minimum_disk"}})],1),i("el-form-item",{attrs:{label:"最低内存(MB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"minimum_ram"},model:{value:e.create_image_form.minimum_ram,callback:function(t){e.$set(e.create_image_form,"minimum_ram",t)},expression:"create_image_form.minimum_ram"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"复制数据"}},[i("el-checkbox",{attrs:{name:"copy_data"},model:{value:e.create_image_form.copy_data,callback:function(t){e.$set(e.create_image_form,"copy_data",t)},expression:"create_image_form.copy_data"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"公有"}},[i("el-checkbox",{attrs:{name:"public"},model:{value:e.create_image_form.public,callback:function(t){e.$set(e.create_image_form,"public",t)},expression:"create_image_form.public"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"受保护的"}},[i("el-checkbox",{attrs:{name:"protected"},model:{value:e.create_image_form.protected,callback:function(t){e.$set(e.create_image_form,"protected",t)},expression:"create_image_form.protected"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.createImagesDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.create_image_onsubmit}},[e._v("创 建")])],1)],1)],1)},F=[],V=(i("44bb"),i("c639"),i("67d7"),i("03b2"),i("4536"),i("3596")),I=(i("63ff"),i("f8f9")),E={name:"image",components:{},data:function(){return{fullscreenLoading:!1,multipleSelection:[],createImagesDialogVisible:!1,editImagesDialogVisible:!1,formLabelWidth:"100px",fileList:[],create_image_form:{name:"",description:"",image_source:"",image_location:"",format:"",architecture:"",minimum_disk:"",minimum_ram:"",copy_data:!0,public:!1,protected:!1},edit_image_form:{name:"",description:"",kernel_id:"",ramdisk_id:"",architecture:"",format:"",minimum_disk:"",minimum_ram:"",public:!1,protected:!1},tableData:[{name:"cirros",status:"活动",size:"12.1 MB",disk_format:"qcow2",protected:"否",visibility:"是",id:12345678,minimum_disk:"",minimum_ram:"",description:"",architecture:""}]}},created:function(){this.getData()},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},getData:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios.get("api/getImageList").then((function(e){t.content=e.data,t.tableData=t.content,console.log(t.content),console.log(Object(V["a"])(t.content)),"not login in"===t.content&&(alert("请先登录！"),t.$router.push("/Login"))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),images_delete_one:function(e){var t=this;console.log(e),this.$confirm("此操作将删除该映像, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.fullscreenLoading=!0,t.axios.get("api/images/delete_one?image_id="+e).then((function(e){t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):204===t.content?(t.$message({type:"success",message:"删除成功!"}),window.location.reload()):t.$message({type:"error",message:"删除失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleClick:function(){alert("button click")},handleFile:function(e){this.fileList.push(e.file)},handleExceed:function(e,t){this.$message.warning("最多上传 ".concat(e.length," 个文件"))},create_image_onsubmit:function(){this.$refs["create_image_form"].$el;var e=new FormData;e.append("name",this.create_image_form.name),e.append("description",this.create_image_form.description),e.append("image_location",this.create_image_form.image_location),e.append("architecture",this.create_image_form.architecture),e.append("format",this.create_image_form.format),e.append("minimum_ram",this.create_image_form.minimum_ram),e.append("minimum_disk",this.create_image_form.minimum_disk),e.append("protected",this.create_image_form.protected),e.append("public",this.create_image_form.public),e.append("copy_data",this.create_image_form.copy_data),e.append("files",this.fileList[0]),console.log(this.fileList[0]),this.axios.post("/api/images/create_image",e).then((function(e){e.code})).catch((function(e){}))},edit_image_dialog_open:function(e){var t,i;t="是"===e.visibility,i="是"===e.protected,this.edit_image_form={name:e.name,description:e.description,kernel_id:"",ramdisk_id:"",architecture:e.architecture,format:e.disk_format,minimum_disk:e.minimum_disk,minimum_ram:e.minimum_ram,public:t,protected:i},console.log(this.edit_image_form),this.editImagesDialogVisible=!0},edit_image_onsubmit:function(){}}},T=E,R=(i("c829"),Object(s["a"])(T,j,F,!1,null,"30ec7ccc",null)),B=R.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div")},H=[],q={name:"create_image_dialog",data:function(){return{dialogFormVisible:$route.params.open}}},P=q,U=Object(s["a"])(P,M,H,!1,null,"286ed16c",null),A=U.exports,N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){e.createImagesDialogVisible=!0}}},[e._v("创建网络")]),i("el-button",{attrs:{type:"danger",size:"medium"}},[e._v("删除网络")])],1)],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:"true",border:"true",height:"800"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),i("el-table-column",{attrs:{prop:"project",label:"项目",width:"200"}}),i("el-table-column",{attrs:{prop:"name",label:"网络名称",width:"200"}}),i("el-table-column",{attrs:{prop:"cidr",label:"子网已连接",width:"200"}}),i("el-table-column",{attrs:{prop:"",label:"DHCP管理程序",width:"200"}}),i("el-table-column",{attrs:{prop:"shared",label:"共享",width:"200"}}),i("el-table-column",{attrs:{prop:"external",label:"外部",width:"200"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}}),i("el-table-column",{attrs:{prop:"admin_state_up",label:"管理状态",width:"100"}}),i("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small"},on:{click:e.handleClick}},[e._v(" 编辑网络 "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{divided:""},nativeOn:{click:function(i){return e.images_delete_one(t.row.id)}}},[e._v("删除网络 ")])],1)],1)]}}])})],1),i("el-dialog",{attrs:{title:"编辑映像",visible:e.editImagesDialogVisible,width:"500px"},on:{"update:visible":function(t){e.editImagesDialogVisible=t}}},[i("el-form",{attrs:{model:e.form,"label-width":"100px","label-position":"right"}},[i("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.name,callback:function(t){e.$set(e.edit_image_form,"name",t)},expression:"edit_image_form.name"}})],1),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.edit_image_form.description,callback:function(t){e.$set(e.edit_image_form,"description",t)},expression:"edit_image_form.description"}})],1),i("el-form-item",{attrs:{label:"内核标识","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.kernel_id,callback:function(t){e.$set(e.edit_image_form,"kernel_id",t)},expression:"edit_image_form.kernel_id"}})],1),i("el-form-item",{attrs:{label:"内存盘标识","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.ramdisk_id,callback:function(t){e.$set(e.edit_image_form,"ramdisk_id",t)},expression:"edit_image_form.ramdisk_id"}})],1),i("el-form-item",{attrs:{label:"架构","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",disabled:!0},model:{value:e.edit_image_form.architecture,callback:function(t){e.$set(e.edit_image_form,"architecture",t)},expression:"edit_image_form.architecture"}})],1),i("el-form-item",{attrs:{label:"格式","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择映像格式"},model:{value:e.edit_image_form.format,callback:function(t){e.$set(e.edit_image_form,"format",t)},expression:"edit_image_form.format"}},[i("el-option",{attrs:{label:"ISO-光盘映像",value:"iso"}}),i("el-option",{attrs:{label:"QCOW2-QEMU模拟器",value:"qcow2"}})],1)],1),i("el-form-item",{attrs:{label:"最小磁盘(GB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.minimum_disk,callback:function(t){e.$set(e.edit_image_form,"minimum_disk",t)},expression:"edit_image_form.minimum_disk"}})],1),i("el-form-item",{attrs:{label:"最低内存(MB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit_image_form.minimum_ram,callback:function(t){e.$set(e.edit_image_form,"minimum_ram",t)},expression:"edit_image_form.minimum_ram"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"公有"}},[i("el-checkbox",{attrs:{name:"type"},model:{value:e.edit_image_form.public,callback:function(t){e.$set(e.edit_image_form,"public",t)},expression:"edit_image_form.public"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"受保护的"}},[i("el-checkbox",{attrs:{name:"type"},model:{value:e.edit_image_form.protected,callback:function(t){e.$set(e.edit_image_form,"protected",t)},expression:"edit_image_form.protected"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.editImagesDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.edit_image_onsubmit}},[e._v("保 存")])],1)],1),i("el-dialog",{attrs:{title:"编辑映像",visible:e.createImagesDialogVisible,width:"500px"},on:{"update:visible":function(t){e.createImagesDialogVisible=t}}},[i("el-form",{ref:"create_image_form",attrs:{model:e.create_image_form,"label-width":"100px","label-position":"right"}},[i("el-form-item",{attrs:{label:"名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"name"},model:{value:e.create_image_form.name,callback:function(t){e.$set(e.create_image_form,"name",t)},expression:"create_image_form.name"}})],1),i("el-form-item",{attrs:{label:"描述"}},[i("el-input",{attrs:{type:"textarea",name:"description"},model:{value:e.create_image_form.description,callback:function(t){e.$set(e.create_image_form,"description",t)},expression:"create_image_form.description"}})],1),i("el-form-item",{attrs:{label:"映像源","label-width":e.formLabelWidth}},[i("el-select",{model:{value:e.create_image_form.image_source,callback:function(t){e.$set(e.create_image_form,"image_source",t)},expression:"create_image_form.image_source"}},[i("el-option",{attrs:{label:"映像位置",value:"shanghai"}}),i("el-option",{attrs:{label:"映像文件",value:"beijing"}})],1)],1),i("el-form-item",{attrs:{label:"映像位置","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"image_location"},model:{value:e.create_image_form.image_location,callback:function(t){e.$set(e.create_image_form,"image_location",t)},expression:"create_image_form.image_location"}})],1),i("el-form-item",{attrs:{label:"选择映像","label-width":e.formLabelWidth}},[i("el-upload",{attrs:{action:"","http-request":e.handleFile,multiple:!1,limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击选择")])],1)],1),i("el-form-item",{attrs:{label:"格式","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择映像格式",name:"format"},model:{value:e.create_image_form.format,callback:function(t){e.$set(e.create_image_form,"format",t)},expression:"create_image_form.format"}},[i("el-option",{attrs:{label:"ISO-光盘映像",value:"iso"}}),i("el-option",{attrs:{label:"QCOW2-QEMU模拟器",value:"qcow2"}})],1)],1),i("el-form-item",{attrs:{label:"架构","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"architecture"},model:{value:e.create_image_form.architecture,callback:function(t){e.$set(e.create_image_form,"architecture",t)},expression:"create_image_form.architecture"}})],1),i("el-form-item",{attrs:{label:"最小磁盘(GB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"minimum_disk"},model:{value:e.create_image_form.minimum_disk,callback:function(t){e.$set(e.create_image_form,"minimum_disk",t)},expression:"create_image_form.minimum_disk"}})],1),i("el-form-item",{attrs:{label:"最低内存(MB)","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off",name:"minimum_ram"},model:{value:e.create_image_form.minimum_ram,callback:function(t){e.$set(e.create_image_form,"minimum_ram",t)},expression:"create_image_form.minimum_ram"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"复制数据"}},[i("el-checkbox",{attrs:{name:"copy_data"},model:{value:e.create_image_form.copy_data,callback:function(t){e.$set(e.create_image_form,"copy_data",t)},expression:"create_image_form.copy_data"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"公有"}},[i("el-checkbox",{attrs:{name:"public"},model:{value:e.create_image_form.public,callback:function(t){e.$set(e.create_image_form,"public",t)},expression:"create_image_form.public"}})],1),i("el-form-item",{staticStyle:{"margin-bottom":"0px"},attrs:{label:"受保护的"}},[i("el-checkbox",{attrs:{name:"protected"},model:{value:e.create_image_form.protected,callback:function(t){e.$set(e.create_image_form,"protected",t)},expression:"create_image_form.protected"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.createImagesDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.create_image_onsubmit}},[e._v("创 建")])],1)],1)],1)},Q=[],G={name:"image",components:{},data:function(){return{fullscreenLoading:!1,multipleSelection:[],createImagesDialogVisible:!1,editImagesDialogVisible:!1,formLabelWidth:"100px",fileList:[],create_image_form:{name:"",description:"",image_source:"",image_location:"",format:"",architecture:"",minimum_disk:"",minimum_ram:"",copy_data:!0,public:!1,protected:!1},edit_image_form:{name:"",description:"",kernel_id:"",ramdisk_id:"",architecture:"",format:"",minimum_disk:"",minimum_ram:"",public:!1,protected:!1},tableData:[{project:"admin",name:"provider",status:"活动",admin_state_up:"启动",cidr:"provider 10.18.200.0/24",shared:"否",external:"是",id:12345678}]}},created:function(){this.getData()},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},getData:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios.get("api/getNetworksList").then((function(e){t.content=e.data,t.tableData=t.content,console.log(t.content),console.log(Object(V["a"])(t.content)),"not login in"===t.content&&(alert("请先登录！"),t.$router.push("/Login"))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),images_delete_one:function(e){var t=this;console.log(e),this.$confirm("此操作将删除该映像, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.fullscreenLoading=!0,t.axios.get("api/images/delete_one?image_id="+e).then((function(e){t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):204===t.content?(t.$message({type:"success",message:"删除成功!"}),window.location.reload()):t.$message({type:"error",message:"删除失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleClick:function(){alert("button click")},handleFile:function(e){this.fileList.push(e.file)},handleExceed:function(e,t){this.$message.warning("最多上传 ".concat(e.length," 个文件"))},create_image_onsubmit:function(){this.$refs["create_image_form"].$el;var e=new FormData;e.append("name",this.create_image_form.name),e.append("description",this.create_image_form.description),e.append("image_location",this.create_image_form.image_location),e.append("architecture",this.create_image_form.architecture),e.append("format",this.create_image_form.format),e.append("minimum_ram",this.create_image_form.minimum_ram),e.append("minimum_disk",this.create_image_form.minimum_disk),e.append("protected",this.create_image_form.protected),e.append("public",this.create_image_form.public),e.append("copy_data",this.create_image_form.copy_data),e.append("files",this.fileList[0]),console.log(this.fileList[0]),this.axios.post("/api/images/create_image",e).then((function(e){e.code})).catch((function(e){}))},edit_image_dialog_open:function(e){var t,i;t="是"===e.visibility,i="是"===e.protected,this.edit_image_form={name:e.name,description:e.description,kernel_id:"",ramdisk_id:"",architecture:e.architecture,format:e.disk_format,minimum_disk:e.minimum_disk,minimum_ram:e.minimum_ram,public:t,protected:i},console.log(this.edit_image_form),this.editImagesDialogVisible=!0},edit_image_onsubmit:function(){}}},J=G,K=(i("9e0b"),Object(s["a"])(J,N,Q,!1,null,"b2fe08ce",null)),X=K.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[i("el-col",{attrs:{span:3}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.OpencreateServerDialogVisible()}}},[e._v("启动实例")]),i("el-button",{attrs:{type:"danger",size:"medium"}},[e._v("删除实例")])],1)],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",stripe:"true",border:"true",height:"800"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"50"}}),i("el-table-column",{attrs:{prop:"name",label:"实例名称",width:"200"}}),i("el-table-column",{attrs:{prop:"image_name",label:"映像名称",width:"200"}}),i("el-table-column",{attrs:{prop:"ip_addr",label:"IP 地址",width:"200"}}),i("el-table-column",{attrs:{prop:"flavor_name",label:"大小",width:"100"}}),i("el-table-column",{attrs:{prop:"key_name",label:"密钥对",width:"100"}}),i("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}}),i("el-table-column",{attrs:{prop:"availability_zone",label:"可用域",width:"100"}}),i("el-table-column",{attrs:{prop:"task_state",label:"任务",width:"100"}}),i("el-table-column",{attrs:{prop:"power_state",label:"电源状态",width:"100"}}),i("el-table-column",{attrs:{prop:"time",label:"创建时间",width:"200"}}),i("el-table-column",{attrs:{label:"Actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"small"},on:{click:e.handleClick}},[e._v(" 启动 "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{divided:""},nativeOn:{click:function(i){return e.start_server_one(t.row.id)}}},[e._v("启动实例 ")]),i("el-dropdown-item",{nativeOn:{click:function(i){return e.reboot_server_one(t.row.id,"HEAD")}}},[e._v("硬重启实例")]),i("el-dropdown-item",{nativeOn:{click:function(i){return e.reboot_server_one(t.row.id,"SOFT")}}},[e._v("软重启实例")]),i("el-dropdown-item",{nativeOn:{click:function(i){return e.stop_server_one(t.row.id)}}},[e._v("关闭实例")]),i("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(i){return e.get_remote_consoles(t.row.id)}}},[e._v("打开VNC控制台 ")]),i("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(i){return e.pause_server_one(t.row.id)}}},[e._v("暂停实例 ")]),i("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(i){return e.unpause_server_one(t.row.id)}}},[e._v("恢复实例 ")]),i("el-dropdown-item",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{divided:""},nativeOn:{click:function(i){return e.images_delete_one(t.row.id)}}},[e._v("删除实例 ")])],1)],1)]}}])})],1),i("el-dialog",{attrs:{title:"启动实例",visible:e.createServerDialogVisible,width:"500px"},on:{"update:visible":function(t){e.createServerDialogVisible=t}}},[i("el-form",{attrs:{model:e.form,"label-width":"100px","label-position":"right"}},[i("el-form-item",{attrs:{label:"实例名称","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.create_server_form.name,callback:function(t){e.$set(e.create_server_form,"name",t)},expression:"create_server_form.name"}})],1),i("el-form-item",{attrs:{label:"可用区域","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.create_server_form.availability_zone,callback:function(t){e.$set(e.create_server_form,"availability_zone",t)},expression:"create_server_form.availability_zone"}})],1),i("el-form-item",{attrs:{label:"映像","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择映像"},model:{value:e.create_server_form.imageRef,callback:function(t){e.$set(e.create_server_form,"imageRef",t)},expression:"create_server_form.imageRef"}},[i("el-option",{attrs:{label:"cirros",value:"cirros"}})],1)],1),i("el-form-item",{attrs:{label:"flavor","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择flavor"},model:{value:e.create_server_form.flavorRef,callback:function(t){e.$set(e.create_server_form,"flavorRef",t)},expression:"create_server_form.flavorRef"}},e._l(e.FlavorData,(function(e,t){return i("el-option",{key:t,attrs:{label:e.id,value:"iso"}})})),1)],1),i("el-form-item",{attrs:{label:"网络","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择网络"},model:{value:e.create_server_form.networks,callback:function(t){e.$set(e.create_server_form,"networks",t)},expression:"create_server_form.networks"}},[i("el-option",{attrs:{label:"provider",value:e.create_server_form.networks}})],1)],1),i("el-form-item",{attrs:{label:"安全组","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择安全组"},model:{value:e.create_server_form.security_groups,callback:function(t){e.$set(e.create_server_form,"security_groups",t)},expression:"create_server_form.security_groups"}},[i("el-option",{attrs:{label:"default",value:e.create_server_form.security_groups}})],1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.create_server_onsubmit}},[e._v("启动实例")]),i("el-button",{on:{click:function(t){e.createServerDialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},Z=[],ee={name:"servers",components:{},data:function(){return{fullscreenLoading:!1,multipleSelection:[],createServerDialogVisible:!1,editImagesDialogVisible:!1,formLabelWidth:"100px",fileList:[],create_server_form:{name:"new-server-test",imageRef:"fe3bb837-8c39-4011-903f-809d7b374aa7",flavorRef:"1",availability_zone:"nova",diskConfig:"AUTO",networks:"405d6294-d47c-42ac-86bd-4b0d9caa5bd0",security_groups:"default"},edit_image_form:{name:"",description:"",kernel_id:"",ramdisk_id:"",architecture:"",format:"",minimum_disk:"",minimum_ram:"",public:!1,protected:!1},tableData:[],remote_consoles_url:"",ImagesData:[{name:"cirros",status:"活动",size:"12.1 MB",disk_format:"qcow2",protected:"否",visibility:"是",id:12345678,minimum_disk:"",minimum_ram:"",description:"",architecture:""}],FlavorData:[{id:"'id': 1,  'name': m1.tiny, 'vcpu': 1,  'ram': 512MB, 'disk': 1GB, '公有':是"}],NetworksData:[{}],Security_groupsData:[{}]}},created:function(){this.getData()},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},getData:function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.axios.get("api/getServersList").then((function(e){t.content=e.data,t.tableData=t.content,console.log(t.content),console.log(Object(V["a"])(t.content)),"not login in"===t.content&&(alert("请先登录！"),t.$router.push("/Login"))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),start_server_one:function(e){var t=this;this.fullscreenLoading=!0,this.axios.get("api/server/StartServerOne?server_id="+e).then((function(e){console.log(e.data),t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):202===t.content?t.$message({type:"success",message:"正在启动中..."}):t.$message({type:"error",message:"启动失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))},stop_server_one:function(e){var t=this;this.fullscreenLoading=!0,this.axios.get("api/server/StopServerOne?server_id="+e).then((function(e){console.log(e.data),t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):202===t.content?t.$message({type:"success",message:"正在停止该实例..."}):t.$message({type:"error",message:"停止失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))},pause_server_one:function(e){var t=this;this.fullscreenLoading=!0,this.axios.get("api/server/PauseServerOne?server_id="+e).then((function(e){console.log(e.data),t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):202===t.content?t.$message({type:"success",message:"正在暂停该实例..."}):t.$message({type:"error",message:"暂停失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))},unpause_server_one:function(e){var t=this;this.fullscreenLoading=!0,this.axios.get("api/server/UnpauseServerOne?server_id="+e).then((function(e){console.log(e.data),t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):202===t.content?t.$message({type:"success",message:"正在恢复该实例..."}):t.$message({type:"error",message:"恢复失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))},reboot_server_one:function(e,t){var i=this;this.fullscreenLoading=!0,this.axios.get("api/server/RebootServerOne?server_id="+e+"&action="+t).then((function(e){console.log(e.data),i.fullscreenLoading=!1,i.content=e.data,"not login in"===i.content?(alert("请先登录！"),i.$router.push("/Login")):202===i.content?i.$message({type:"success",message:"正在重启该实例..."}):i.$message({type:"error",message:"重启失败! 返回信息："+i.content})})).catch((function(e){console.log(e)}))},get_remote_consoles:function(e){var t=this;this.fullscreenLoading=!0,this.axios.get("api/server/GetRemoteConsoles?server_id="+e).then((function(e){console.log(e.data),t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):"error"===t.content?t.$message({type:"error",message:"打开失败! 返回信息："+t.content}):(t.remote_consoles_url=t.content,t.$alert('<iframe src="'+t.content+"\" height='500px' width='800px'></iframe>","VNC控制台",{dangerouslyUseHTMLString:!0,center:!0}))})).catch((function(e){console.log(e)}))},servers_delete_one:function(e){var t=this;console.log(e),this.$confirm("此操作将删除该服务器, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.fullscreenLoading=!0,t.axios.get("api/images/delete_one?image_id="+e).then((function(e){t.fullscreenLoading=!1,t.content=e.data,"not login in"===t.content?(alert("请先登录！"),t.$router.push("/Login")):204===t.content?(t.$message({type:"success",message:"删除成功!"}),window.location.reload()):t.$message({type:"error",message:"删除失败! 返回信息："+t.content})})).catch((function(e){console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleClick:function(){alert("button click")},handleFile:function(e){this.fileList.push(e.file)},handleExceed:function(e,t){this.$message.warning("最多上传 ".concat(e.length," 个文件"))},OpencreateServerDialogVisible:function(){this.createServerDialogVisible=!0},create_server_onsubmit:function(){var e=this;this.axios.post("/api/createServer").then((function(t){e.content=t.data,console.log(e.content),202===e.content?(e.createServerDialogVisible=!1,e.$message({type:"success",message:"创建实例成功，正在启动....."})):(e.createServerDialogVisible=!1,e.$message({type:"error",message:"创建实例失败!"}))})).catch((function(e){console.log(e)}))},edit_image_dialog_open:function(e){var t,i;t="是"===e.visibility,i="是"===e.protected,this.edit_image_form={name:e.name,description:e.description,kernel_id:"",ramdisk_id:"",architecture:e.architecture,format:e.disk_format,minimum_disk:e.minimum_disk,minimum_ram:e.minimum_ram,public:t,protected:i},console.log(this.edit_image_form),this.editImagesDialogVisible=!0},edit_image_onsubmit:function(){}}},te=ee,ie=(i("ad0f"),Object(s["a"])(te,Y,Z,!1,null,null,null)),ae=ie.exports;a["default"].use(f["a"]);var oe=new f["a"]({routes:[{path:"/",redirect:W},{path:"/Horizon",name:"Horizon",component:L,children:[{path:"/",name:"test",component:B},{path:"image",name:"image",component:B,children:[{path:"create_image/:open",name:"create_image_dialog",component:A}]},{path:"network",name:"network",component:X},{path:"servers",name:"servers",component:ae}]},{path:"/Login",name:"Login",component:W}]}),re=i("7893"),le=i.n(re),ne=(i("610a"),i("ed2c"),i("e7aa")),se=i.n(ne),ce=i("2427"),me=i.n(ce);a["default"].use(se.a,me.a),a["default"].config.productionTip=!1,a["default"].use(le.a),new a["default"]({router:oe,store:d,render:function(e){return e(m)}}).$mount("#app")},6184:function(e,t,i){},"93e9":function(e,t,i){},"93ec":function(e,t,i){},9790:function(e,t,i){"use strict";var a=i("93e9"),o=i.n(a);o.a},"9e0b":function(e,t,i){"use strict";var a=i("a336"),o=i.n(a);o.a},a336:function(e,t,i){},ad0f:function(e,t,i){"use strict";var a=i("93ec"),o=i.n(a);o.a},c37e:function(e,t,i){},c829:function(e,t,i){"use strict";var a=i("cc79"),o=i.n(a);o.a},cc79:function(e,t,i){},d7b1:function(e,t,i){"use strict";var a=i("6184"),o=i.n(a);o.a},ed2c:function(e,t,i){},f1df:function(e,t,i){}});
//# sourceMappingURL=app.ff1d7fd5.js.map